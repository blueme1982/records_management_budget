import streamlit as st

# 페이지 설정
st.set_page_config(
    page_title="메타데이터 가이드",
    page_icon="📚",
    layout="wide"
)

# 제목
st.title("📚 기록물관리 사업 예산 데이터 메타데이터 가이드")

# 1. 데이터셋 개요
st.header("1. 데이터셋 개요")
st.markdown("""
- **파일명**: records_management_budget.csv
- **설명**: 지방자치단체 및 교육행정기관의 기록물관리 사업 예산 데이터
- **데이터 형식**: CSV (Comma Separated Values)
- **인코딩**: UTF-8
- **행 구분자**: \\n (LF)
- **열 구분자**: , (쉼표)
""")

# 2. 컬럼 구조
st.header("2. 컬럼 구조")

# 2.1 핵심 분석 항목
st.subheader("2.1 핵심 분석 항목")

# 기관 정보
st.markdown("#### 기관 정보")

st.markdown("""
- **region (지역)**
  - 데이터 타입: String
  - 설명: 예산을 집행하는 기관이 위치한 지역
  - 예시: 서울, 부산, 대구, 대전

- **parent_org (상급기관)**
  - 데이터 타입: String
  - 설명: 해당 기관의 상위 행정기관
  - 예시: 서울특별시, 경기도, 서울특별시교육청
  - 특징: 광역단체의 경우 상급기관 없음 (null)

- **org_type (기관유형)**
  - 데이터 타입: String
  - 설명: 예산을 집행하는 기관의 유형
  - 가능한 값: 지방자치단체, 교육행정기관

- **org_level (기관등급)**
  - 데이터 타입: String
  - 설명: 기관의 행정 계층 구조상 등급
  - 가능한 값: 광역, 기초

- **organization (기관명)**
  - 데이터 타입: String
  - 설명: 예산을 집행하는 기관의 공식 명칭
  - 예시: 서울특별시, 강남구, 서울특별시교육청
""")

# 사업 정보
st.markdown("#### 사업 정보")

st.markdown("""
- **project_detail (사업내용)**
  - 데이터 타입: String
  - 설명: 예산이 사용되는 구체적인 사업 내용
  - 예시: 기록관 환경정비, 중요기록물 정리사업, 기록관리시스템 유지보수

- **project_type (사업유형)**
  - 데이터 타입: String
  - 설명: 사업의 주요 유형 분류
  - 우선순위 규칙: 동일 사업에 여러 유형이 해당될 경우, 아래 순서대로 우선 분류
  - 가능한 값:
    1. DIGITALIZATION: 전자화 사업
    2. RECORDS_MGMT: 기록물관리
    3. SPECIAL_PROJECT: 특수사업
    4. SYSTEM_MGMT: 시스템 관리
    5. PRESERVATION: 보존관리
""")

# 세부 사업 유형
with st.expander("project_subtype (세부사업유형) 상세 보기"):
    st.markdown("""
    - 데이터 타입: String
    - 설명: 사업의 세부 유형 분류
    - 가능한 값:
        1. **DIGITALIZATION (전자화 사업)**
           - PAPER_DIGITIZATION: 종이기록물 전자화
             - 일반문서 스캔/색인
             - 도면/카드류 스캔/색인
             - 대장류 스캔/색인
           - SPECIAL_DIGITIZATION: 특수유형기록물 전자화
             - 책자/간행물 전자화
             - 행정박물 디지털화
             - 기타 비전자기록물 전자화
           - AV_DIGITIZATION: 시청각기록물 디지털화
             - 멀티미디어 기록물 디지털화
             - 사진/필름류 디지털화
             - 오디오/영상물 디지털화
           - DIGITAL_ARCHIVE: 디지털 아카이브 구축
             - 지역 아카이브 구축
             - 지역, 시설 기록화 사업

        2. **RECORDS_MGMT (기록물관리)**
           - RECORDS_ARRANGE: 기록물 정리/기술
             - 기록물 정리 및 기술
             - 기록물 전수조사 및 목록작성
             - 보유기록물 실태확인
             - 기록물 분류체계 정비
             - 메타데이터 추출/입력
             - 품질검수 및 보정
           - RECORDS_TRANSFER: 이관/인수
             - 비전자기록물 이관/인수
             - 전자기록물 이관/인수
           - RECORDS_APPRAISAL: 기록물 평가/폐기
             - 기록물 평가/폐기
           - RECORDS_INSPECTION: 실태점검/정수점검
           - ACCESS_CONTROL: 공개재분류/접근관리

        3. **SPECIAL_PROJECT (특수사업)**
           - CONSULTING: 컨설팅/연구용역
             - 기록관리 컨설팅
             - 연구용역 수행
             - 정책연구
           - PLANNING: 전략/계획 수립 (ISP 포함)
             - 중장기 발전계획 수립
             - 정보화전략계획(ISP) 수립
             - 실행계획 수립
           - EDUCATION: 교육/훈련
             - 기록관리 교육
             - 실무자 교육
             - 담당자 역량강화
           - RECORDS_COLLECTION: 기록물 수집
             - 특정 주제 기록물 수집
             - 구술채록
             - 기증기록물 수집
             - 지역사회 기록화
             - 주민생활사 기록화
           - EXHIBITION: 전시사업
             - 기록물 전시회 개최
             - 온라인 전시 구축
             - 상설전시관 운영
             - 기획전시 개최
             - 순회전시 운영
             - 전시 콘텐츠 제작
           - FACILITY_IMPROVE: 시설개선 (공사, 리모델링)
             - 기록관 시설 개선
             - 보존서고 리모델링
             - 작업공간 환경개선

        4. **SYSTEM_MGMT (시스템 관리)**
           - SYS_OPERATION: 시스템 운영/유지보수
             - 기록관리시스템 통합 유지보수
             - 하드웨어(H/W) 유지보수 (서버, 스토리지 등)
             - 소프트웨어(S/W) 유지보수 (응용프로그램)
             - 상용 소프트웨어 라이선스 갱신
             - 시스템 운영 관리 및 모니터링
           - SYS_ENHANCEMENT: 시스템 고도화/기능개선
             - 차세대 시스템 전환/구축
             - 시스템 업그레이드/이전 설치
             - 기능 개선 및 성능 향상
             - 보존포맷 변환 시스템 고도화
             - 데이터 이관 및 마이그레이션
           - SECURITY_MGMT: 보안관리
             - 안티바이러스 소프트웨어 구매/갱신
             - 문서보안 프로그램 도입/운영
             - 보안 소프트웨어 설치/관리
             - 접근통제 시스템 운영
             - 보안 취약점 점검 및 조치
           - INFRA_ESTABLISH: 인프라 구축
             - 신규 시스템/장비 도입
             - 서버/스토리지 증설
             - 보존포맷 변환 서버 구축
             - 대용량 송수신 시스템 구축
             - 노후 장비 교체/업그레이드

        5. **PRESERVATION (보존관리)**
           - ENVIRONMENT_CONTROL: 보존환경 관리 (온습도, 공기질)
           - PEST_PREVENTION: 해충방제/방균 관리 (소독, 방역)
           - STORAGE_MGMT: 서고 관리 (시설, 장비, 서가)
           - SUPPLIES_MGMT: 보존용품 관리 (상자, 봉투, 장비)
           - REPAIR_RESTORE: 복원/복구 처리
    """)

# 예산 정보
st.markdown("#### 예산 정보")

st.markdown("""
- **fiscal_year (회계연도)**
  - 데이터 타입: Numeric
  - 설명: 예산이 집행되는 회계연도
  - 예시: 2025

- **budget_type (예산타입)**
  - 데이터 타입: String
  - 설명: 예산의 타입 (본예산, 추경예산 등)
  - 가능한 값: 본예산, 추경예산

- **budget_amount (예산금액)**
  - 데이터 타입: Numeric (천 단위 쉼표 포함)
  - 설명: 해당 사업에 배정된 예산 금액 (단위: 원)
  - 예시: 6,960,000
""")

# 2.2 관리/참조용 항목
st.subheader("2.2 관리/참조용 항목")

st.markdown("#### 예산서 참조 정보")

st.markdown("""
- **budget_dept (예산책정부서)**
  - 데이터 타입: String
  - 설명: 예산을 집행하는 담당 부서명
  - 예시: 디지털도시국 정보시스템과, 민원여권과

- **budget_category (예산항목)**
  - 데이터 타입: String
  - 설명: 예산서 상의 대분류 코드 및 명칭
  - 예시: 100-201, 100-207, 201 일반운영비
  - 용도: 원본 예산서 대조 및 확인용

- **budget_subcategory (예산세부항목코드)**
  - 데이터 타입: String
  - 설명: 예산서 상의 소분류 코드 및 명칭
  - 예시: 01 사무관리비, 02 공공운영비, 02 전산개발비
  - 용도: 원본 예산서 대조 및 확인용

- **reference_url (참고URL)**
  - 데이터 타입: String
  - 설명: 원본 예산서 확인을 위한 웹페이지 주소
  - 용도: 데이터 출처 확인 및 검증용
""")

# 3. 데이터 특성
st.header("3. 데이터 특성")

st.markdown("### 주요 사업 유형 분류 (우선순위 순)")
st.markdown("""
1. **디지털화 (DIGITALIZATION)**
   - 기록물 디지털화/전산화 작업
   - 데이터베이스 구축
   - 디지털 아카이브 구축

2. **기록물관리 (RECORDS_MGMT)**
   - 기록물 정리/기술
   - 이관/인수
   - 평가/폐기
   - 실태점검/정수점검
   - 공개재분류/접근관리

3. **특수사업 (SPECIAL_PROJECT)**
   - 컨설팅/연구용역
   - 전략/계획 수립
   - 교육/훈련
   - 기록물 수집
   - 전시사업
   - 시설개선 (공사, 리모델링)

4. **시스템 관리 (SYSTEM_MGMT)**
   - 시스템 운영/유지보수 (HW/SW 유지보수, 라이선스)
   - 시스템 고도화/기능개선 (업그레이드)
   - 보안관리 (백신, 문서보안)
   - 인프라 구축 (신규 시스템, 장비)

5. **보존관리 (PRESERVATION)**
   - 보존환경 관리 (온습도, 공기질)
   - 해충방제/방균 관리
   - 서고 관리 (시설, 장비)
   - 보존용품 관리
   - 복원/복구 처리
""")

st.markdown("### 데이터 특이사항")
st.markdown("""
- 금액은 모두 원 단위로 표시
- 광역단체의 경우 상급기관 정보 없음 (null)
- 일부 기관의 경우 사업없음 또는 미업로드 상태 존재
- 예산 항목 코드는 기관별로 다른 체계 사용 가능 (참조용)
""")

st.markdown("### 분류 우선순위 적용 예시")
st.markdown("""
- "기록물 전자화 및 정리 사업" → DIGITALIZATION (전자화가 우선순위가 더 높음)
- "기록물 정리 및 시스템 구축" → RECORDS_MGMT (기록물관리가 시스템보다 우선순위가 높음)
- "전시 및 보존환경 개선" → SPECIAL_PROJECT (특수사업이 보존관리보다 우선순위가 높음)
""")

# 페이지 하단에 업데이트 정보 추가
st.markdown("---")
st.caption("마지막 업데이트: 2024-02-21") 